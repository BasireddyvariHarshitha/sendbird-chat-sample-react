import{B as s,n as t,h as e,i,j as n,_ as a,V as o,q as r,t as l,O as u,o as h}from"./bundle.shared.js";class d extends s{constructor(){super(...arguments),this.onUserEntered=t,this.onUserExited=t,this.onChannelParticipantCountChanged=t}}class c extends d{constructor(s={}){super(),Object.keys(s).forEach((t=>{this.hasOwnProperty(t)&&(this[t]=s[t])}))}}class y extends e{constructor(s,t){var e,i,n,a,o;super(s,t),this.includeFrozen=!0,this.includeMetaData=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=null,this.includeFrozen=null===(e=t.includeFrozen)||void 0===e||e,this.includeMetaData=null===(i=t.includeMetaData)||void 0===i||i,this.nameKeyword=null!==(n=t.nameKeyword)&&void 0!==n?n:null,this.urlKeyword=null!==(a=t.urlKeyword)&&void 0!==a?a:null,this.customTypes=null!==(o=t.customTypes)&&void 0!==o?o:null}_validate(){return super._validate()&&i("boolean",this.includeFrozen)&&i("boolean",this.includeMetaData)&&i("string",this.nameKeyword,!0)&&i("string",this.urlKeyword,!0)&&n("string",this.customTypes,!0)}next(){return a(this,void 0,void 0,(function*(){if(this._validate()){if(this._isLoading)throw h.queryInProgress;if(this._hasNext){this._isLoading=!0;const{requestQueue:s}=o.of(this._iid),t=new r(Object.assign(Object.assign({},this),{token:this._token})),e=yield s.send(t),{channels:i,token:n}=e.as(l);this._token=n,this._hasNext=!!n;const a=u.of(this._iid);return yield a.upsertChannelsToCache(i),this._isLoading=!1,i}return[]}throw h.invalidParameters}))}}export{y as O,c as a};
