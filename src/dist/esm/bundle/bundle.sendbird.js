import{v as e,i as s,N as t,w as n,x as o,a as r,y as a,z as i,A as d,M as c,E as u,F as h,H as p,I as l,J as _,K as m,Q as N,R as E,T as U,U as I,W as C,X as T,S as f,Y as $,Z as R,$ as x,a0 as O,a1 as y}from"./bundle.shared.js";import"../vendor/vendor.internal.js";class A extends class{constructor(){this.profileImage=null,this.profileUrl=null,this.nickname=null}}{constructor(e){if(super(),e)for(const s in e)this.hasOwnProperty(s)&&(this[s]=e[s])}validate(){return e(this.profileImage,!0)&&s("string",this.profileUrl,!0)&&s("string",this.nickname,!0)}}const g=e=>(s,_)=>{if(0===s)e.commitSchema([{collectionName:t,keyName:n,index:[o(r.LATEST_LAST_MESSAGE),o(r.CHRONOLOGICAL),o(r.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:a,keyName:i,index:[d(c.CHANNEL_LATEST)]},{collectionName:u,keyName:h,index:[d(c.CHANNEL_LATEST)]},{collectionName:p,keyName:l}]).then((()=>_())).catch((e=>_(e)));else _()};class v{constructor({logger:e,connectionDelegate:s}){this.logger=e,this.connectionDelegate=s}get isAvailable(){return"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&void 0!==navigator.onLine}onlineWorker(){try{this.isAvailable&&this.connectionDelegate.reconnect()}catch(e){this.logger.warn("`window.addEventListener.ononline` or `navigator.onLine` not found.")}}offlineWorker(){try{this.isAvailable&&this.connectionDelegate.disconnect()}catch(e){this.logger.warn("`window.addEventListener.ononline` or `navigator.onLine` not found.")}}start(){try{this.isAvailable&&(window.addEventListener("online",this.onlineWorker),window.addEventListener("offline",this.offlineWorker))}catch(e){this.logger.warn("`window.addEventListener.ononline` or `navigator.onLine` not found.")}}stop(){try{this.isAvailable&&(window.removeEventListener("online",this.onlineWorker,!1),window.removeEventListener("offline",this.offlineWorker,!1))}catch(e){this.logger.warn("`window.addEventListener.ononline` or `navigator.onLine` not found.")}}}class w extends _{constructor({userId:e,nickname:s=null,profileUrl:t=null,profileImage:n=null,preferredLanguages:o=null}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}`,this.params=E({nickname:s,profile_url:t,profile_file:n,preferred_languages:o})}}class L extends U{constructor(e,s){super(e,s),this.user=null,this.user=new I(e,Object.assign({},s))}}class S extends _{constructor({userId:e,token:s}){super(),this.method=m.POST,this.path=`${N}/${encodeURIComponent(e)}/push/apns`,this.params={apns_device_token:s,always_push:!0}}}class k extends _{constructor({userId:e,token:s}){super(),this.method=m.POST,this.path=`${N}/${encodeURIComponent(e)}/push/gcm`,this.params={gcm_reg_token:s,always_push:!0}}}class P extends _{constructor({userId:e,token:s}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/push/apns/${encodeURIComponent(s)}`}}class b extends _{constructor({userId:e,token:s}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/push/gcm/${encodeURIComponent(s)}`}}class G extends _{constructor({userId:e}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/push/apns`}}class D extends _{constructor({userId:e}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/push/gcm`}}class z extends _{constructor({userId:e,type:s,token:t,ts:n}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/push/${encodeURIComponent(s)}/device_tokens`,this.params={created_ts:n,token:t}}}class M extends U{constructor(e,s){super(e,s),this.pushTokens={type:s.type?C[s.type.toLowerCase()]:C.UNKNOWN,deviceTokens:s.device_tokens,hasMore:s.has_more,token:s.token}}}class H extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/channel_invitation_preference`}}class W extends U{constructor(e,s){super(e,s),this.autoAccept=s.auto_accept}}class j extends _{constructor({userId:e,willAutoAccept:s}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}/channel_invitation_preference`,this.params={auto_accept:s}}}class V extends U{constructor(e,s){super(e,s),this.autoAccept=s.auto_accept}}class F extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/push_preference`}}class K extends U{constructor(e,s){super(e,s),this.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone}}}class q extends _{constructor({userId:e,doNotDisturbOn:s,startHour:t,startMin:n,endHour:o,endMin:r,timezone:a}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}/push_preference`,this.params={do_not_disturb:s,start_hour:t,start_min:n,end_hour:o,end_min:r,timezone:a}}}class B extends U{constructor(e,s){super(e,s),this.preference={doNotDisturbOn:s.do_not_disturb,startHour:s.start_hour,startMin:s.start_min,endHour:s.end_hour,endMin:s.end_min,timezone:s.timezone}}}class J extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/push_preference`}}class Q extends U{constructor(e,s){super(e,s),this.snoozePeriod={isSnoozeOn:s.snooze_enabled},"number"==typeof s.snooze_start_ts&&(this.snoozePeriod.startTs=s.snooze_start_ts),"number"==typeof s.snooze_end_ts&&(this.snoozePeriod.endTs=s.snooze_end_ts)}}class X extends _{constructor({userId:e,snoozeOn:s,startTs:t,endTs:n}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}/push_preference`,this.params={snooze_enabled:s,snooze_start_ts:t,snooze_end_ts:n}}}class Y extends U{constructor(e,s){super(e,s),this.snoozePeriod={isSnoozeOn:s.snooze_enabled},"number"==typeof s.snooze_start_ts&&(this.snoozePeriod.startTs=s.snooze_start_ts),"number"==typeof s.snooze_end_ts&&(this.snoozePeriod.endTs=s.snooze_end_ts)}}class Z extends _{constructor({userId:e,blockedUserId:s}){super(),this.method=m.POST,this.path=`${N}/${encodeURIComponent(e)}/block`,this.params={target_id:s}}}class ee extends _{constructor({userId:e,unblockedUserId:s}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/block/${encodeURIComponent(s)}`}}class se extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/push/template`}}class te extends U{constructor(e,s){super(e,s),this.name=s.name}}class ne extends _{constructor({userId:e,templateName:s}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}/push/template`,this.params={name:s}}}class oe extends U{constructor(e,s){super(e,s),this.name=s.name}}class re extends _{constructor({userId:e,token:s}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/friends/changelogs`,this.params={token:s}}}class ae extends U{constructor(e,s){super(e,s),this.changelogs={addedUsers:s.added.map((s=>new I(e,s))),updatedUsers:s.updated.map((s=>new I(e,s))),deletedUserIds:s.deleted,hasMore:s.has_more,token:s.next}}}class ie extends _{constructor({userId:e,discoveries:s}){super(),this.method=m.PUT,this.path=`${N}/${encodeURIComponent(e)}/friend_discoveries`,this.params={friend_discoveries:s.map((e=>({friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName})))}}}class de extends U{constructor(e,s){super(e,s),this.friendDiscoveryRequestId=s.friend_discovery_request_id}}class ce extends _{constructor({userId:e,discoveryKeys:s}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/friend_discoveries`,this.params={friend_discovery_keys:s}}}class ue extends _{constructor({userId:e,userIds:s}){super(),this.method=m.POST,this.path=`${N}/${encodeURIComponent(e)}/friends`,this.params={user_ids:s}}}class he extends U{constructor(e,s){super(e,s),this.users=s.users.map((s=>new I(e,s)))}}class pe extends _{constructor({userId:e,userIds:s}){super(),this.method=m.DELETE,this.path=`${N}/${encodeURIComponent(e)}/friends`,this.params={user_ids:s}}}class le extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${e}/allow_friend_discovery`,this.params={}}}class _e extends U{constructor(e,s){super(e,s),this.allowFriendDiscovery=s.allow_friend_discovery}}class me extends _{constructor({userId:e,allowFriendDiscovery:s}){super(),this.method=m.PUT,this.path=`${N}/${e}/allow_friend_discovery`,this.params={allow_friend_discovery:s}}}class Ne extends _{constructor({userId:e,filter:s}){super();const{keys:t}=s;this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/unread_item_count`,this.params={item_keys:t}}}class Ee extends U{constructor(e,s){super(e,s),"number"==typeof s[T.GROUP_CHANNEL_UNREAD_MENTION_COUNT]&&(this.groupChannelUnreadMentionCount=s[T.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),"number"==typeof s[T.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]&&(this.groupChannelUnreadMessageCount=s[T.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),"number"==typeof s[T.GROUP_CHANNEL_INVITATION_COUNT]&&(this.groupChannelInvitationCount=s[T.GROUP_CHANNEL_INVITATION_COUNT]),"number"==typeof s[T.SUPER_UNREAD_MENTION_COUNT]&&(this.superGroupChannelUnreadMentionCount=s[T.SUPER_UNREAD_MENTION_COUNT]),"number"==typeof s[T.SUPER_UNREAD_MESSAGE_COUNT]&&(this.superGroupChannelUnreadMessageCount=s[T.SUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof s[T.SUPER_INVITATION_COUNT]&&(this.superGroupChannelInvitationCount=s[T.SUPER_INVITATION_COUNT]),"number"==typeof s[T.NONSUPER_UNREAD_MENTION_COUNT]&&(this.nonSuperGroupChannelUnreadMentionCount=s[T.NONSUPER_UNREAD_MENTION_COUNT]),"number"==typeof s[T.NONSUPER_UNREAD_MESSAGE_COUNT]&&(this.nonSuperGroupChannelUnreadMessageCount=s[T.NONSUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof s[T.NONSUPER_INVITATION_COUNT]&&(this.nonSuperGroupChannelInvitationCount=s[T.NONSUPER_INVITATION_COUNT])}}class Ue extends _{constructor({userId:e}){super(),this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/unread_channel_count`}}class Ie extends U{constructor(e,s){super(e,s),this.unreadCount=s.unread_count}}class Ce extends _{constructor({userId:e,filter:s}){super();const{channelCustomTypesFilter:t,superChannelFilter:n}=s;this.method=m.GET,this.path=`${N}/${encodeURIComponent(e)}/unread_message_count`,this.params={super_mode:null!=n?n:f.ALL,custom_types:t}}}class Te extends U{constructor(e,s){super(e,s),this.unreadCount=s.unread_count}}class fe extends _{constructor(){super(),this.method=m.GET,this.path=$}}class $e extends U{constructor(e,s){super(e,s),this.emojiContainer=new R(s)}}class Re extends _{constructor({categoryId:e}){super(),this.method=m.GET,this.path=`${$}/${e}`}}class xe extends U{constructor(e,s){super(e,s),this.emojiCategory=new x(s)}}class Oe extends _{constructor({key:e}){super(),this.method=m.GET,this.path=`${O}/${e}`}}class ye extends U{constructor(e,s){super(e,s),this.emoji=new y(s)}}export{Te as $,ae as A,Z as B,le as C,_e as D,me as E,ie as F,H as G,de as H,ce as I,ue as J,he as K,pe as L,fe as M,$e as N,v as O,Re as P,xe as Q,k as R,j as S,Oe as T,A as U,ye as V,Ne as W,Ee as X,Ue as Y,Ie as Z,Ce as _,w as a,L as b,b as c,D as d,S as e,P as f,G as g,W as h,V as i,F as j,K as k,q as l,g as m,B as n,J as o,Q as p,X as q,Y as r,z as s,M as t,se as u,te as v,ne as w,oe as x,ee as y,re as z};
